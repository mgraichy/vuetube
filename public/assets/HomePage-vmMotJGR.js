import{i as y,r as l,u as b,c as k,o as a,a as i,b as u,d as g,t as o,F as $,e as S,f as V,w as B,v as L,g as t,h as N,j as T,k as C}from"./index-6pVjbv8z.js";import{c as D}from"./formatTime-BG9yVpUy.js";const F={class:"grid grid-cols-[auto,1fr] flex-grow-1 overflow-y-auto"},j={key:0,class:"grid gap-4 grid-cols-[repeat(auto-fill,minmax(300px,1fr))] auto-rows-min mr-2"},A=["onClick"],H={crossorigin:"use-credentials",class:"max-w-full h-auto rounded-md transition:all duration-1000 hover:rounded-none"},P=["id","src"],U={class:"flex m-2"},q={class:"rounded-full self-center h-12 w-12 bg-vue mr-4 text-center leading-[3rem]"},E={class:"flex flex-col"},J={class:"text-base font-extrabold w-full cursor-pointer"},O={class:"text-sm pb-0.5 w-full text-gray-300 cursor-pointer"},R={class:"text-xs mb-1 w-full text-gray-300 cursor-pointer"},Y={__name:"Home",setup(p){const n=y("videoStringArray"),d=`${T.oauthUri}/api/videos`,_=l(!1),f=l(0),m=l(0),v=b();function h(s){v.push({name:"watch",params:{id:s.id},query:{vid:JSON.stringify(s)}})}const w=k(()=>{f.value=n.value.length});async function x(s,r){if(!s.src||!r)return;const e=`${d}?file=${s.src}`;await N(e,r),m.value++,f.value==m.value&&(_.value=!0)}return(s,r)=>(a(),i("div",F,[u(n)?(a(),i("div",j,[g(o(w.value)+" ",1),(a(!0),i($,null,S(u(n),(e,c)=>B((a(),i("div",{key:c,onClick:z=>h(e),class:"cursor-pointer aspect-video"},[t("video",H,[t("source",{id:`source-${c}`,src:x(e,`source-${c}`),type:"video/mp4"},null,8,P),r[0]||(r[0]=g(" Your browser does not support the video tag. "))]),t("div",U,[t("div",q,o(e.initials),1),t("div",E,[t("div",J,o(e.title),1),t("div",O,o(e.name),1),t("div",R,o(e.views)+" views â€¢ "+o(u(D)(new Date(e.date))),1)])])],8,A)),[[L,_.value]])),128))])):V("",!0)]))}},K={__name:"HomePage",setup(p){return(n,d)=>(a(),C(Y))}};export{K as default};
