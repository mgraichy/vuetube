import{i as D,r as k,u as N,a as q,g as V,c as F,w as T,b as n,o as c,d as r,e,t,f as a,F as m,h,j as f,k as $,l as j,m as J}from"./index-D2yacjM3.js";const O={key:0,class:"grid lg:grid-cols-[4fr_1fr] mr-2 lg:mr-0 overflow-y-auto"},U={class:"justify-self-center cursor-pointer aspect-video w-full h-auto",crossorigin:"use-credentials",controls:""},A=["src"],R={class:"flex m-2"},E={class:"rounded-full self-center h-12 w-12 bg-vue mr-4 text-center leading-[3rem]"},I={class:"flex flex-col"},L={class:"font-bold text-xl"},P={class:"text-sm"},W={class:"flex flex-col mb-2"},z={class:"bg-[#3f3f3f] rounded-lg w-full p-3 text-white"},G={class:"mb-2 text-lg font-bold"},H={class:"mb-2"},K={key:0,class:"flex mt-4 mb-4"},M=["src"],Q={class:"flex flex-col"},X={class:"font-bold"},Y={class:"text-sm"},Z={id:"right-sidebar-small-screens",class:"lg:hidden ml-2"},ee=["onClick"],se={class:"aspect-video mb-2"},te={crossorigin:"use-credentials",class:"max-w-full h-auto rounded-md transition:all duration-1000 hover:rounded-none"},oe=["id","src"],ie={class:"flex flex-col"},le={class:"text-base font-extrabold w-full cursor-pointer"},ce={class:"text-sm pb-0.5 w-full text-gray-300 cursor-pointer"},re={class:"text-xs mb-1 w-full text-gray-300 cursor-pointer"},ne={id:"right-sidebar-large-screens",class:"hidden lg:block ml-2"},ae=["onClick"],de={class:"aspect-video mb-2"},ue={crossorigin:"use-credentials",class:"w-full h-auto rounded-md transition:all duration-1000 hover:rounded-none"},_e=["id","src"],ve={class:"flex flex-col"},me={class:"lg:text-sm text-base font-extrabold w-full cursor-pointer"},he={class:"lg:text-xs text-sm pb-0.5 w-full text-gray-300 cursor-pointer"},fe={class:"text-xs mb-1 w-full text-gray-300 cursor-pointer"},ge={__name:"IndividualVideo",setup(S){const d=D("videoStringArray"),g=`${$.oauthUri}/api/videos`,p=`${$.oauthUri}/api/comments`,u=k([{}]),x=N(),B=q(),w=JSON.parse(x.query.vid||"{}"),o=k(w);V(`${p}?id=${w.id}`,u);function b(i){B.push({name:"watch",params:{id:i.id},query:{vid:JSON.stringify(i)}}),o.value=i,console.log("goToVideo vid:",i),console.log("goToVideo mainVideo.value:",o.value),V(`${p}?id=${i.id}`,u)}const y=F(()=>{if(d)return d.value.filter(i=>i.id!==o.value.id)});T(()=>x.query.vid,i=>{o.value=JSON.parse(i)});function _(i,v){console.log("getVideoBlob vid:",i,"getVideoBlob id:",v);const s=`${g}?file=${i}`;j(s,v)}return(i,v)=>n(d)?(c(),r("div",O,[e("div",null,[e("video",U,[e("source",{id:"source-main-video",src:_(o.value.src,"source-main-video"),type:"video/mp4"},null,8,A)]),e("div",R,[e("div",E,t(o.value.initials),1),e("div",I,[e("div",L,t(o.value.title),1),e("div",null,t(o.value.name),1),e("div",P,t(o.value.views)+" views • "+t(n(a)(new Date(o.value.date))),1)])]),e("div",W,[e("div",z,[e("div",G,t(o.value.views)+" views • "+t(n(a)(new Date(o.value.date))),1),e("div",H,t(o.value.comment),1),e("div",null,t(o.value.comment),1)])]),u.value?(c(!0),r(m,{key:0},h(u.value,(s,l)=>(c(),r("div",{key:l},[s?(c(),r("div",K,[e("img",{class:"rounded-full h-12 w-12 mr-4",src:s.picture},null,8,M),e("div",Q,[e("div",X,t(s.name)+" • "+t(n(a)(new Date(s.date))),1),e("div",Y,t(s.comment),1)])])):f("",!0)]))),128)):f("",!0)]),e("div",null,[e("div",Z,[(c(!0),r(m,null,h(y.value,(s,l)=>(c(),r("div",{key:l,onClick:C=>b(s),class:"grid gap-x-1 grid-cols-[160px,1fr] cursor-pointer"},[e("div",se,[e("video",te,[e("source",{id:`source-small-screen-${l}`,src:_(s.src,`source-small-screen-${l}`),type:"video/mp4"},null,8,oe)])]),e("div",ie,[e("div",le,t(s.title),1),e("div",ce,t(s.name),1),e("div",re,t(s.views)+" views • "+t(n(a)(new Date(s.date))),1)])],8,ee))),128))]),e("div",ne,[(c(!0),r(m,null,h(y.value,(s,l)=>(c(),r("div",{key:l,onClick:C=>b(s),class:"grid gap-x-1 grid-cols-[160px,1fr] cursor-pointer"},[e("div",de,[e("video",ue,[e("source",{id:`source-large-screen-${l}`,src:_(s.src,`source-large-screen-${l}`),type:"video/mp4"},null,8,_e)])]),e("div",ve,[e("div",me,t(s.title),1),e("div",he,t(s.name),1),e("div",fe,t(s.views)+" views • "+t(n(a)(new Date(s.date))),1)])],8,ae))),128))])])])):f("",!0)}},xe={__name:"WatchView",setup(S){return(d,g)=>(c(),J(ge))}};export{xe as default};
